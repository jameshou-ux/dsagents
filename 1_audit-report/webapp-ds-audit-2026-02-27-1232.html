<!DOCTYPE html>
<html lang="en" data-theme="dark" data-lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DS Audit Report â€” {{project_name}}</title>
  <meta name="description" content="Design System Audit Report generated by ds-audit-agent v1" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Geist:wght@300;400;500;600;700&family=Geist+Mono:wght@400;500&display=swap"
    rel="stylesheet" />
  <style>
    /* â”€â”€ Dark Theme (default) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    [data-theme="dark"] {
      --bg: #09090b;
      --bg-card: #18181b;
      --bg-muted: #27272a;
      --border: #27272a;
      --border-subtle: #3f3f46;
      --text: #fafafa;
      --text-muted: #a1a1aa;
      --text-subtle: #71717a;
      --header-bg: rgba(9, 9, 11, .88);
      --scrollbar: #3f3f46;
    }

    /* â”€â”€ Light Theme â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    [data-theme="light"] {
      --bg: #ffffff;
      --bg-card: #f4f4f5;
      --bg-muted: #e4e4e7;
      --border: #e4e4e7;
      --border-subtle: #d4d4d8;
      --text: #09090b;
      --text-muted: #52525b;
      --text-subtle: #71717a;
      --header-bg: rgba(255, 255, 255, .88);
      --scrollbar: #d4d4d8;
    }

    /* â”€â”€ Shared Tokens â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    :root {
      --primary: #8b5cf6;
      --primary-fg: #ffffff;
      --success: #22c55e;
      --warning: #f59e0b;
      --danger: #ef4444;
      --info: #3b82f6;
      --radius: 8px;
      --radius-lg: 12px;
      --transition: background .2s, color .2s, border-color .2s;
    }

    /* â”€â”€ Reset â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Geist', 'PingFang SC', 'Microsoft YaHei', -apple-system, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      font-size: 14px;
      transition: var(--transition);
    }

    a {
      color: var(--primary);
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    /* â”€â”€ Layout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 24px;
    }

    /* â”€â”€ Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    header {
      border-bottom: 1px solid var(--border);
      padding: 14px 0;
      position: sticky;
      top: 0;
      background: var(--header-bg);
      backdrop-filter: blur(12px);
      z-index: 100;
      transition: var(--transition);
    }

    .header-inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .header-logo {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 13px;
      font-weight: 600;
      color: var(--text-muted);
      letter-spacing: .03em;
      flex-shrink: 0;
    }

    .header-logo .dot {
      width: 8px;
      height: 8px;
      background: var(--primary);
      border-radius: 50%;
    }

    /* â”€â”€ Controls (theme + lang toggles) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .header-controls {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-shrink: 0;
    }

    .ctrl-btn {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      padding: 5px 12px;
      border-radius: var(--radius);
      border: 1px solid var(--border-subtle);
      background: var(--bg-card);
      color: var(--text-muted);
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition), transform .1s;
      user-select: none;
      letter-spacing: .02em;
    }

    .ctrl-btn:hover {
      color: var(--text);
      border-color: var(--primary);
      transform: translateY(-1px);
    }

    .ctrl-btn svg {
      flex-shrink: 0;
    }

    /* â”€â”€ Badge â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .badge {
      display: inline-flex;
      align-items: center;
      padding: 2px 8px;
      border-radius: 9999px;
      font-size: 11px;
      font-weight: 600;
      letter-spacing: .04em;
      text-transform: uppercase;
    }

    .badge-high {
      background: rgba(239, 68, 68, .15);
      color: #f87171;
      border: 1px solid rgba(239, 68, 68, .3);
    }

    .badge-medium {
      background: rgba(245, 158, 11, .15);
      color: #fbbf24;
      border: 1px solid rgba(245, 158, 11, .3);
    }

    .badge-low {
      background: rgba(34, 197, 94, .15);
      color: #4ade80;
      border: 1px solid rgba(34, 197, 94, .3);
    }

    /* â”€â”€ Nav â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .toc {
      display: flex;
      gap: 2px;
      align-items: center;
    }

    .toc a {
      font-size: 12px;
      color: var(--text-subtle);
      padding: 4px 10px;
      border-radius: var(--radius);
      transition: var(--transition);
    }

    .toc a:hover {
      color: var(--text);
      background: var(--bg-muted);
      text-decoration: none;
    }

    @media (max-width: 860px) {
      .toc {
        display: none;
      }
    }

    /* â”€â”€ Hero â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .hero {
      padding: 64px 0 48px;
      border-bottom: 1px solid var(--border);
    }

    .hero-meta {
      font-size: 12px;
      color: var(--text-subtle);
      font-family: 'Geist Mono', monospace;
      margin-bottom: 16px;
      letter-spacing: .04em;
    }

    .hero h1 {
      font-size: clamp(28px, 5vw, 42px);
      font-weight: 700;
      letter-spacing: -.03em;
      line-height: 1.1;
      margin-bottom: 12px;
    }

    .hero h1 span {
      color: var(--primary);
    }

    .hero-desc {
      color: var(--text-muted);
      font-size: 15px;
      max-width: 600px;
      margin-bottom: 28px;
    }

    .hero-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 5px 12px;
      border-radius: var(--radius);
      border: 1px solid var(--border-subtle);
      background: var(--bg-card);
      font-size: 12px;
      color: var(--text-muted);
    }

    .chip-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
    }

    /* â”€â”€ Score Grid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .score-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      padding: 40px 0;
    }

    .score-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 20px 24px;
      transition: var(--transition);
    }

    .score-card:hover {
      border-color: var(--border-subtle);
    }

    .score-card.featured {
      background: linear-gradient(135deg, rgba(139, 92, 246, .12), rgba(59, 130, 246, .06));
      border-color: rgba(139, 92, 246, .4);
    }

    .score-label {
      font-size: 11px;
      font-weight: 600;
      letter-spacing: .08em;
      text-transform: uppercase;
      color: var(--text-subtle);
      margin-bottom: 12px;
    }

    .score-value {
      font-size: 42px;
      font-weight: 700;
      letter-spacing: -.04em;
      line-height: 1;
      font-family: 'Geist Mono', monospace;
    }

    .score-max {
      font-size: 18px;
      color: var(--text-muted);
      font-weight: 400;
    }

    .score-bar-wrap {
      margin-top: 14px;
    }

    .score-bar-track {
      height: 4px;
      background: var(--bg-muted);
      border-radius: 9999px;
      overflow: hidden;
    }

    .score-bar-fill {
      height: 100%;
      border-radius: 9999px;
      transition: width 1.2s cubic-bezier(.22, 1, .36, 1);
    }

    /* â”€â”€ Section â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .section {
      padding: 48px 0;
      border-bottom: 1px solid var(--border);
    }

    .section:last-child {
      border-bottom: none;
    }

    .section-title {
      font-size: 20px;
      font-weight: 700;
      letter-spacing: -.02em;
      margin-bottom: 6px;
    }

    .section-subtitle {
      color: var(--text-muted);
      font-size: 13px;
      margin-bottom: 28px;
    }

    /* â”€â”€ Dimension Cards â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .dim-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 16px;
    }

    .dim-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      overflow: hidden;
      transition: var(--transition);
    }

    .dim-card:hover {
      border-color: var(--border-subtle);
    }

    .dim-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 20px 12px;
      border-bottom: 1px solid var(--border);
    }

    .dim-name {
      font-size: 13px;
      font-weight: 600;
    }

    .dim-score-badge {
      font-family: 'Geist Mono', monospace;
      font-size: 13px;
      font-weight: 700;
      padding: 2px 10px;
      border-radius: 9999px;
      background: var(--bg-muted);
    }

    .dim-body {
      padding: 16px 20px;
    }

    .dim-bar-track {
      height: 6px;
      background: var(--bg-muted);
      border-radius: 9999px;
      overflow: hidden;
      margin-bottom: 12px;
    }

    .dim-bar-fill {
      height: 100%;
      border-radius: 9999px;
      transition: width 1.4s cubic-bezier(.22, 1, .36, 1);
    }

    .dim-metrics {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .dim-metric {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
      color: var(--text-muted);
    }

    .dim-metric-val {
      font-family: 'Geist Mono', monospace;
      color: var(--text);
      font-weight: 500;
    }

    /* â”€â”€ Issues â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .issues-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .issue-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 16px 20px;
      display: grid;
      grid-template-columns: auto 1fr auto;
      align-items: start;
      gap: 16px;
      transition: var(--transition);
    }

    .issue-card:hover {
      border-color: var(--border-subtle);
    }

    .issue-severity-bar {
      width: 3px;
      height: 100%;
      min-height: 40px;
      border-radius: 9999px;
    }

    .issue-area {
      font-size: 10px;
      font-weight: 600;
      letter-spacing: .08em;
      text-transform: uppercase;
      color: var(--text-subtle);
      margin-bottom: 4px;
    }

    .issue-title {
      font-size: 13px;
      font-weight: 500;
      margin-bottom: 4px;
    }

    .issue-impact {
      font-size: 12px;
      color: var(--text-muted);
    }

    /* â”€â”€ Roadmap â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .roadmap-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .roadmap-item {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 16px 20px;
      display: flex;
      align-items: flex-start;
      gap: 16px;
      transition: var(--transition);
    }

    .roadmap-item:hover {
      border-color: var(--border-subtle);
    }

    .roadmap-priority {
      flex-shrink: 0;
      width: 52px;
      font-size: 10px;
      font-weight: 700;
      letter-spacing: .06em;
      text-transform: uppercase;
      text-align: center;
      padding: 3px 0;
      border-radius: var(--radius);
    }

    .priority-high {
      background: rgba(239, 68, 68, .15);
      color: #f87171;
    }

    .priority-medium {
      background: rgba(245, 158, 11, .15);
      color: #fbbf24;
    }

    .priority-low {
      background: rgba(34, 197, 94, .15);
      color: #4ade80;
    }

    .roadmap-content {
      flex: 1;
    }

    .roadmap-area {
      font-size: 11px;
      color: var(--text-subtle);
      margin-bottom: 4px;
      text-transform: uppercase;
      letter-spacing: .06em;
      font-weight: 600;
    }

    .roadmap-action {
      font-size: 13px;
      font-weight: 500;
      margin-bottom: 4px;
    }

    .roadmap-impact {
      font-size: 12px;
      color: var(--text-muted);
    }

    /* â”€â”€ AI Readiness â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .ai-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    @media (max-width: 640px) {
      .ai-grid {
        grid-template-columns: 1fr;
      }
    }

    .ai-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 20px;
      transition: var(--transition);
    }

    .ai-card-title {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: .08em;
      color: var(--text-subtle);
      margin-bottom: 10px;
    }

    .ai-penalties {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .ai-penalty {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 12px;
      color: var(--text-muted);
      padding: 6px 0;
      border-bottom: 1px solid var(--border);
    }

    .ai-penalty:last-child {
      border-bottom: none;
    }

    .ai-penalty-val {
      color: #f87171;
      font-family: 'Geist Mono', monospace;
      font-weight: 600;
      font-size: 13px;
    }

    /* â”€â”€ Radial â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .radial-wrap {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      gap: 6px;
    }

    .radial-svg {
      transform: rotate(-90deg);
    }

    .radial-track {
      fill: none;
      stroke: var(--bg-muted);
      stroke-width: 8;
    }

    .radial-fill {
      fill: none;
      stroke-width: 8;
      stroke-linecap: round;
      transition: stroke-dashoffset 1.5s cubic-bezier(.22, 1, .36, 1);
    }

    .radial-label {
      text-anchor: middle;
      dominant-baseline: middle;
      font-family: 'Geist Mono', monospace;
      font-weight: 700;
      fill: var(--text);
    }

    /* â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    footer {
      border-top: 1px solid var(--border);
      padding: 24px 0;
      text-align: center;
      font-size: 12px;
      color: var(--text-subtle);
    }

    /* â”€â”€ Scrollbar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: var(--bg);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--scrollbar);
      border-radius: 9999px;
    }

    /* â”€â”€ Animations â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @keyframes fadeUp {
      from {
        opacity: 0;
        transform: translateY(12px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate {
      animation: fadeUp .45s ease both;
    }
  </style>
</head>

<body>

  <!-- â”€â”€â”€â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <header>
    <div class="container header-inner">
      <div class="header-logo">
        <span class="dot"></span>
        ds-audit-agent <span style="color:var(--border-subtle)">/ v1</span>
      </div>
      <nav class="toc">
        <a href="#summary" data-i18n="nav_summary">Summary</a>
        <a href="#dimensions" data-i18n="nav_dimensions">Dimensions</a>
        <a href="#issues" data-i18n="nav_issues">Issues</a>
        <a href="#roadmap" data-i18n="nav_roadmap">Roadmap</a>
        <a href="#ai" data-i18n="nav_ai">AI Readiness</a>
      </nav>
      <div class="header-controls">
        <!-- Language toggle -->
        <button class="ctrl-btn" id="lang-toggle" onclick="toggleLang()" title="Switch language / åˆ‡æ¢è¯­è¨€">
          <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2"
            stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10" />
            <line x1="2" y1="12" x2="22" y2="12" />
            <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10A15.3 15.3 0 0 1 12 2z" />
          </svg>
          <span id="lang-label">ä¸­æ–‡</span>
        </button>
        <!-- Theme toggle -->
        <button class="ctrl-btn" id="theme-toggle" onclick="toggleTheme()" title="Toggle theme">
          <span id="theme-icon">â˜€ï¸</span>
          <span id="theme-label" data-i18n="ctrl_light">Light</span>
        </button>
        <div id="risk-badge"></div>
      </div>
    </div>
  </header>

  <!-- â”€â”€â”€â”€â”€ MAIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <main>
    <div class="container">

      <!-- Hero -->
      <section class="hero animate">
        <div class="hero-meta" id="hero-meta"></div>
        <h1 data-i18n-prefix="hero_heading"><span data-i18n="hero_heading"></span><br /><span id="hero-title"
            style="color:var(--primary)"></span></h1>
        <p class="hero-desc" id="hero-desc"></p>
        <div class="hero-chips" id="hero-chips"></div>
      </section>

      <!-- Executive Summary -->
      <section id="summary" class="section">
        <h2 class="section-title" data-i18n="sec_summary">Executive Summary</h2>
        <p class="section-subtitle" data-i18n="sec_summary_sub">Overall scoring and key signals across the design
          system.</p>
        <div class="score-grid" id="score-grid"></div>
        <div id="summary-text"
          style="color:var(--text-muted);font-size:14px;line-height:1.9;max-width:720px;margin-top:8px;padding:20px;background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-lg);transition:var(--transition)">
        </div>
      </section>

      <!-- Dimension Scores -->
      <section id="dimensions" class="section">
        <h2 class="section-title" data-i18n="sec_dimensions">Dimension Scores</h2>
        <p class="section-subtitle" data-i18n="sec_dimensions_sub">Six weighted dimensions contribute to the overall
          score.</p>
        <div class="dim-grid" id="dim-grid"></div>
      </section>

      <!-- Critical Issues -->
      <section id="issues" class="section">
        <h2 class="section-title" data-i18n="sec_issues">Critical Issues</h2>
        <p class="section-subtitle" data-i18n="sec_issues_sub">Flagged failures requiring immediate attention.</p>
        <div class="issues-list" id="issues-list"></div>
      </section>

      <!-- Roadmap -->
      <section id="roadmap" class="section">
        <h2 class="section-title" data-i18n="sec_roadmap">Optimization Roadmap</h2>
        <p class="section-subtitle" data-i18n="sec_roadmap_sub">Prioritized action plan for improving the design system
          health.</p>
        <div class="roadmap-list" id="roadmap-list"></div>
      </section>

      <!-- AI Readiness -->
      <section id="ai" class="section">
        <h2 class="section-title" data-i18n="sec_ai">AI Readiness Evaluation</h2>
        <p class="section-subtitle" data-i18n="sec_ai_sub">How well the system supports AI-driven code generation and
          design tooling.</p>
        <div class="ai-grid" id="ai-grid"></div>
      </section>

    </div>
  </main>

  <!-- â”€â”€â”€â”€â”€ FOOTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <footer>
    <div class="container">
      <span data-i18n="footer_generated">Generated by</span> <strong>ds-audit-agent v1</strong> Â· <span
        id="footer-timestamp"></span>
    </div>
  </footer>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     â‘  DATA LAYER â€” Replace AUDIT_DATA for each new report
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <script>
    const AUDIT_DATA = {
      metadata: {
        project_name: "Webapp Design System",
        file_id: "q7hUdalzGcZEJIyCwYuASm",
        figma_url: "https://www.figma.com/design/q7hUdalzGcZEJIyCwYuASm/Webapp-design-system?node-id=321-9714",
        audit_timestamp: "2026-02-27T12:32:59-05:00",
        auditor: "ds-audit-agent v1",
        wcag_profile: "wcag_customer_standard_v1",
        wcag_target: "AA",
        theme_modes_checked: ["light", "dark"],
        dark_mode_required: true,
        token_schema_version: "ai_token_schema_simple_v1"
      },
      summary: {
        overall_score: 47,
        ai_readiness_score: 17,
        risk_level: "High",
        text: "The Webapp Design System exhibits a fundamentally immature token architecture for its scale. While a large library of visual tokens exists, the naming convention is inconsistent, non-semantic, and violates the flat category.role.scale schema. Multiple font families are in use with no unified typography system. Dark mode variables are entirely absent despite dark_mode_required being true. Component layer naming mixes Chinese and English without a unified taxonomy, making AI prompt generation highly unstable.",
        text_zh: "Webapp è®¾è®¡ç³»ç»Ÿåœ¨å…¶è§„æ¨¡ä¸Šè¡¨ç°å‡ºæ ¹æœ¬æ€§ä¸æˆç†Ÿçš„ Token æ¶æ„ã€‚å°½ç®¡å­˜åœ¨å¤§é‡è§†è§‰ Tokenï¼Œä½†å‘½åè§„èŒƒä¸ä¸€è‡´ã€ç¼ºä¹è¯­ä¹‰æ€§ï¼Œè¿åäº† ai-token-schema-simple-v1 è¦æ±‚çš„æ‰å¹³ category.role.scale ç»“æ„ã€‚å¤šä¸ªå­—ä½“å®¶æ—å¹¶å­˜ï¼Œç¼ºä¹ç»Ÿä¸€çš„å­—ä½“ç³»ç»Ÿã€‚å°½ç®¡ dark_mode_required ä¸º trueï¼Œæš—è‰²æ¨¡å¼å˜é‡å®Œå…¨ç¼ºå¤±ã€‚ç»„ä»¶å›¾å±‚å‘½åæ··ç”¨ä¸­è‹±æ–‡ï¼Œæ²¡æœ‰ç»Ÿä¸€åˆ†ç±»ä½“ç³»ï¼Œå¯¼è‡´ AI æç¤ºè¯ç”Ÿæˆæä¸ç¨³å®šã€‚"
      },
      dimensions: [
        {
          key: "token_integrity",
          label: "Token Integrity", label_zh: "Token å®Œæ•´æ€§",
          score: 35, weight: "25%", color: "#ef4444",
          metrics: [
            { label: "Hard-code ratio", label_zh: "ç¡¬ç¼–ç æ¯”ä¾‹", value: "0%" },
            { label: "Duplicate tokens", label_zh: "é‡å¤ Token æ•°", value: "14" },
            { label: "Missing semantic layer", label_zh: "ç¼ºå¤±è¯­ä¹‰å±‚", value: "Yes / æ˜¯" },
            { label: "Token coverage", label_zh: "Token è¦†ç›–ç‡", value: "55%" }
          ]
        },
        {
          key: "component_integrity",
          label: "Component Integrity", label_zh: "ç»„ä»¶å®Œæ•´æ€§",
          score: 52, weight: "20%", color: "#f59e0b",
          metrics: [
            { label: "Auto-layout coverage", label_zh: "è‡ªåŠ¨å¸ƒå±€è¦†ç›–ç‡", value: "50%" },
            { label: "Detached instances", label_zh: "å·²æ–­å¼€å®ä¾‹æ•°", value: "8" },
            { label: "Token usage coverage", label_zh: "Token ä½¿ç”¨ç‡", value: "55%" },
            { label: "Nested structure issues", label_zh: "åµŒå¥—ç»“æ„é—®é¢˜", value: "12" }
          ]
        },
        {
          key: "accessibility",
          label: "Accessibility", label_zh: "æ— éšœç¢åˆè§„",
          score: 45, weight: "20%", color: "#ef4444",
          metrics: [
            { label: "WCAG AA pass rate", label_zh: "WCAG AA é€šè¿‡ç‡", value: "55%" },
            { label: "WCAG AAA pass rate", label_zh: "WCAG AAA é€šè¿‡ç‡", value: "20%" },
            { label: "Contrast violations", label_zh: "å¯¹æ¯”åº¦è¿è§„æ•°", value: "6" },
            { label: "Dark mode failures", label_zh: "æš—è‰²æ¨¡å¼å¤±è´¥é¡¹", value: "10" }
          ]
        },
        {
          key: "structure_semantics",
          label: "Structure & Semantics", label_zh: "ç»“æ„ä¸è¯­ä¹‰",
          score: 38, weight: "15%", color: "#ef4444",
          metrics: [
            { label: "Semantic layer detected", label_zh: "è¯­ä¹‰å±‚å­˜åœ¨", value: "No / å¦" },
            { label: "Visual named components", label_zh: "è¯­ä¹‰å‘½åè¦†ç›–ç‡", value: "30%" },
            { label: "Taxonomy defined", label_zh: "å·²å®šä¹‰åˆ†ç±»ä½“ç³»", value: "No / å¦" }
          ]
        },
        {
          key: "variant_coverage",
          label: "Variant Coverage", label_zh: "å˜ä½“è¦†ç›–ç‡",
          score: 60, weight: "10%", color: "#f59e0b",
          metrics: [
            { label: "State coverage", label_zh: "çŠ¶æ€è¦†ç›–ç‡", value: "55%" },
            { label: "Size variant coverage", label_zh: "å°ºå¯¸å˜ä½“è¦†ç›–ç‡", value: "65%" },
            { label: "Missing states", label_zh: "ç¼ºå¤±çŠ¶æ€", value: "focus, loading, error, skeleton" }
          ]
        },
        {
          key: "naming_consistency",
          label: "Naming Consistency", label_zh: "å‘½åä¸€è‡´æ€§",
          score: 30, weight: "10%", color: "#ef4444",
          metrics: [
            { label: "Invalid layer names", label_zh: "æ— æ•ˆå›¾å±‚åæ•°", value: "28" },
            { label: "Duplicate component names", label_zh: "é‡å¤ç»„ä»¶åæ•°", value: "5" },
            { label: "Pattern match rate", label_zh: "è§„èŒƒå‘½ååŒ¹é…ç‡", value: "22%" }
          ]
        }
      ],
      critical_issues: [
        {
          area: "Token Integrity", area_zh: "Token å®Œæ•´æ€§",
          issue: "Token named '9598AB' uses a raw hex value as its identifier",
          issue_zh: "åä¸º '9598AB' çš„ Token ç›´æ¥ä»¥åå…­è¿›åˆ¶è‰²å€¼ä½œä¸ºæ ‡è¯†ç¬¦",
          impact: "Breaks AI token mapping completely; cannot infer role or intent",
          impact_zh: "å®Œå…¨ç ´å AI Token æ˜ å°„ï¼Œæ— æ³•æ¨æ–­ç”¨é€”æˆ–è¯­ä¹‰",
          severity: "High"
        },
        {
          area: "Accessibility", area_zh: "æ— éšœç¢åˆè§„",
          issue: "Dark mode token set is entirely absent despite dark_mode_required: true",
          issue_zh: "å°½ç®¡ dark_mode_required ä¸º trueï¼Œæš—è‰²æ¨¡å¼ Token é›†å®Œå…¨ç¼ºå¤±",
          impact: "Full dark surface is WCAG-uncertifiable; no contrast can be verified",
          impact_zh: "æ•´ä¸ªæš—è‰²ç•Œé¢æ— æ³•é€šè¿‡ WCAG è®¤è¯ï¼Œå¯¹æ¯”åº¦æ— æ³•éªŒè¯",
          severity: "High"
        },
        {
          area: "Accessibility", area_zh: "æ— éšœç¢åˆè§„",
          issue: "Secondary and Placeholder text tokens use opacity on primary color, failing AA contrast (2.8:1 and 1.5:1)",
          issue_zh: "è¾…åŠ©æ–‡æœ¬ä¸å ä½ç¬¦æ–‡æœ¬é€šè¿‡é€æ˜åº¦æ¨¡æ‹Ÿé¢œè‰²ï¼Œå¯¹æ¯”åº¦ä¸è¾¾ AA æ ‡å‡†ï¼ˆ2.8:1 ä¸ 1.5:1ï¼‰",
          impact: "Affects all secondary body copy and input placeholders across the product",
          impact_zh: "å½±å“äº§å“ä¸­æ‰€æœ‰è¾…åŠ©æ­£æ–‡åŠè¾“å…¥æ¡†å ä½æ–‡æœ¬",
          severity: "High"
        },
        {
          area: "Token Integrity", area_zh: "Token å®Œæ•´æ€§",
          issue: "Multiple gradient tokens resolve to empty string values",
          issue_zh: "å¤šä¸ªæ¸å˜ Token è§£æä¸ºç©ºå­—ç¬¦ä¸²",
          impact: "Phantom tokens inflate the token library and confuse code generators",
          impact_zh: "å¹½çµ Token è†¨èƒ€äº† Token åº“ï¼Œå¹²æ‰°ä»£ç ç”Ÿæˆå·¥å…·",
          severity: "Medium"
        },
        {
          area: "Naming Consistency", area_zh: "å‘½åä¸€è‡´æ€§",
          issue: "Bilingual naming (Chinese sections, English components) creates non-parseable taxonomy",
          issue_zh: "ä¸­è‹±æ–‡æ··ç”¨å‘½åï¼ˆä¸­æ–‡åˆ†åŒº + è‹±æ–‡ç»„ä»¶ï¼‰å¯¼è‡´åˆ†ç±»ä½“ç³»æ— æ³•è§£æ",
          impact: "AI agents cannot reliably infer component hierarchy or semantic role",
          impact_zh: "AI æ— æ³•å¯é æ¨æ–­ç»„ä»¶å±‚çº§æˆ–è¯­ä¹‰è§’è‰²",
          severity: "High"
        },
        {
          area: "Variant Coverage", area_zh: "å˜ä½“è¦†ç›–ç‡",
          issue: "No focus state tokens or variants exist across any interactive component",
          issue_zh: "æ‰€æœ‰äº¤äº’ç»„ä»¶å‡ç¼ºå°‘ç„¦ç‚¹çŠ¶æ€ Token åŠå˜ä½“",
          impact: "Direct WCAG 2.4.11 violation risk; engineering cannot implement focus-visible",
          impact_zh: "ç›´æ¥è¿å WCAG 2.4.11ï¼Œå·¥ç¨‹å¸ˆæ— æ³•å®ç° focus-visible",
          severity: "High"
        }
      ],
      roadmap: [
        {
          priority: "High",
          area: "Token Naming", area_zh: "Token å‘½å",
          action: "Rename all tokens to category.role.scale per ai-token-schema-simple-v1. Fix all typos. Remove phantom gradient tokens.",
          action_zh: "æŒ‰ ai-token-schema-simple-v1 å°†æ‰€æœ‰ Token é‡å‘½åä¸º category.role.scale æ ¼å¼ï¼Œä¿®æ­£æ‹¼å†™é”™è¯¯å¹¶åˆ é™¤ç©ºå€¼æ¸å˜ Tokenã€‚",
          expected_impact: "Naming consistency score rises from 30 to 75+; AI readiness unblocked",
          expected_impact_zh: "å‘½åä¸€è‡´æ€§å¾—åˆ†ä» 30 å‡è‡³ 75+ï¼ŒAI å°±ç»ªèƒ½åŠ›è§£é™¤é˜»å¡"
        },
        {
          priority: "High",
          area: "Accessibility â€” Dark Mode", area_zh: "æ— éšœç¢ â€” æš—è‰²æ¨¡å¼",
          action: "Create a complete dark mode variable set for all bg, text, border, and action tokens",
          action_zh: "ä¸ºæ‰€æœ‰èƒŒæ™¯ã€æ–‡æœ¬ã€è¾¹æ¡†å’Œæ“ä½œ Token åˆ›å»ºå®Œæ•´çš„æš—è‰²æ¨¡å¼å˜é‡é›†",
          expected_impact: "Unblocks dark mode WCAG certification; accessibility score rises from 45 to 70+",
          expected_impact_zh: "è§£é™¤æš—è‰²æ¨¡å¼ WCAG è®¤è¯é˜»å¡ï¼Œæ— éšœç¢å¾—åˆ†ä» 45 å‡è‡³ 70+"
        },
        {
          priority: "High",
          area: "Accessibility â€” Contrast", area_zh: "æ— éšœç¢ â€” å¯¹æ¯”åº¦",
          action: "Replace opacity-based secondary and placeholder text with solid resolved colors that pass 4.5:1",
          action_zh: "å°†åŸºäºé€æ˜åº¦çš„è¾…åŠ©æ–‡æœ¬å’Œå ä½ç¬¦æ›¿æ¢ä¸ºé€šè¿‡ 4.5:1 å¯¹æ¯”åº¦è¦æ±‚çš„å®è‰²å€¼",
          expected_impact: "Eliminates 4 AA contrast violations immediately",
          expected_impact_zh: "ç«‹å³æ¶ˆé™¤ 4 é¡¹ AA å¯¹æ¯”åº¦è¿è§„"
        },
        {
          priority: "High",
          area: "Variant Coverage", area_zh: "å˜ä½“è¦†ç›–ç‡",
          action: "Add focus, loading, skeleton, error, and empty state variants to all interactive components",
          action_zh: "ä¸ºæ‰€æœ‰äº¤äº’ç»„ä»¶æ·»åŠ ç„¦ç‚¹ã€åŠ è½½ä¸­ã€éª¨æ¶å±ã€é”™è¯¯å’Œç©ºçŠ¶æ€å˜ä½“",
          expected_impact: "Variant coverage rises from 60 to 85+; WCAG interaction compliance achieved",
          expected_impact_zh: "å˜ä½“è¦†ç›–ç‡ä» 60 å‡è‡³ 85+ï¼Œå®ç° WCAG äº¤äº’åˆè§„"
        },
        {
          priority: "Medium",
          area: "Structure & Semantics", area_zh: "ç»“æ„ä¸è¯­ä¹‰",
          action: "Define English-only taxonomy; rename all auto-generated frame and group names to semantic identifiers",
          action_zh: "åˆ¶å®šçº¯è‹±æ–‡åˆ†ç±»ä½“ç³»ï¼Œå°†æ‰€æœ‰è‡ªåŠ¨ç”Ÿæˆçš„ Frame å’Œ Group åç§°é‡å‘½åä¸ºè¯­ä¹‰æ ‡è¯†ç¬¦",
          expected_impact: "Structure score rises from 38 to 65+; AI frame-resolution accuracy improves drastically",
          expected_impact_zh: "ç»“æ„å¾—åˆ†ä» 38 å‡è‡³ 65+ï¼ŒAI çš„ Frame è§£æå‡†ç¡®ç‡å¤§å¹…æå‡"
        },
        {
          priority: "Medium",
          area: "Typography", area_zh: "å­—ä½“æ’å°",
          action: "Consolidate to a single font family system with tokenized scale; retire ad-hoc SF Pro and Sora usage",
          action_zh: "æ•´åˆä¸ºå•ä¸€å­—ä½“å®¶æ—ç³»ç»Ÿå¹¶ Token åŒ–å­—é˜¶ï¼Œæ·˜æ±°ä¸´æ—¶ä½¿ç”¨çš„ SF Pro å’Œ Sora",
          expected_impact: "Reduces cognitive load in handoff; improves token coverage by ~10%",
          expected_impact_zh: "é™ä½äº¤ä»˜è®¤çŸ¥è´Ÿæ‹…ï¼ŒToken è¦†ç›–ç‡æå‡çº¦ 10%"
        }
      ],
      ai_readiness: {
        score: 17,
        overall_score_used: 47,
        hard_code_penalty_applied: false,
        semantic_instability_detected: true,
        prompt_generation_stability_estimate: 20,
        penalties: [
          { condition: "Missing semantic layer", condition_zh: "ç¼ºå°‘è¯­ä¹‰å±‚", deduction: -15 },
          { condition: "Variant instability (missing focus states)", condition_zh: "å˜ä½“ä¸ç¨³å®šï¼ˆç¼ºå°‘ç„¦ç‚¹çŠ¶æ€ï¼‰", deduction: -10 },
          { condition: "Naming inconsistency (severe)", condition_zh: "å‘½åä¸¥é‡ä¸ä¸€è‡´", deduction: -8 },
          { condition: "Poor / undefined taxonomy (bilingual)", condition_zh: "åˆ†ç±»ä½“ç³»è–„å¼±ï¼ˆä¸­è‹±æ··ç”¨ï¼‰", deduction: -7 }
        ],
        notes: "Hard-code ratio penalty not applied as tokens are defined â€” however the token naming system itself is functionally equivalent to hard-coding in terms of AI parseability.",
        notes_zh: "ç”±äº Token å·²å®šä¹‰ï¼Œæœªåº”ç”¨ç¡¬ç¼–ç æ¯”ä¾‹æ‰£åˆ† â€” ä½† Token å‘½åç³»ç»Ÿæœ¬èº«åœ¨ AI å¯è§£ææ€§æ–¹é¢ç­‰åŒäºç¡¬ç¼–ç ã€‚"
      }
    };

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       â‘¡ i18n STRINGS
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    const I18N = {
      en: {
        nav_summary: "Summary",
        nav_dimensions: "Dimensions",
        nav_issues: "Issues",
        nav_roadmap: "Roadmap",
        nav_ai: "AI Readiness",
        ctrl_light: "Light",
        ctrl_dark: "Dark",
        sec_summary: "Executive Summary",
        sec_summary_sub: "Overall scoring and key signals across the design system.",
        sec_dimensions: "Dimension Scores",
        sec_dimensions_sub: "Six weighted dimensions contribute to the overall score.",
        sec_issues: "Critical Issues",
        sec_issues_sub: "List out all issues",
        sec_roadmap: "Optimization Roadmap",
        sec_roadmap_sub: "Prioritized action plan for improving the design system health.",
        sec_ai: "AI Readiness Evaluation",
        sec_ai_sub: "How well the system supports AI-driven code generation and design tooling.",
        hero_heading: "Design System",
        hero_audited: "Audited",
        hero_figma: "Figma file",
        score_overall: "Overall Score",
        score_ai: "AI Readiness",
        signal_semantic: "Semantic instability",
        signal_hardcode: "Hard-code penalty",
        signal_prompt: "Prompt stability",
        signal_detected: "Detected",
        signal_none: "None",
        signal_applied: "Applied",
        signal_not_applied: "Not applied",
        card_signals: "Signal Breakdown",
        card_penalties: "Penalty Deductions",
        card_notes: "Auditor Notes",
        penalty_total: "Final Score",
        risk_prefix: "Risk:",
        footer_generated: "Generated by",
        dark_mode_req: "dark mode required",
        dark_mode_opt: "dark mode optional",
        mode_label: "mode",
      },
      zh: {
        nav_summary: "æ€»è§ˆ",
        nav_dimensions: "ç»´åº¦å¾—åˆ†",
        nav_issues: "å…³é”®é—®é¢˜",
        nav_roadmap: "ä¼˜åŒ–è·¯çº¿å›¾",
        nav_ai: "AI å°±ç»ªæ€§",
        ctrl_light: "æµ…è‰²",
        ctrl_dark: "æ·±è‰²",
        sec_summary: "æ‰§è¡Œæ‘˜è¦",
        sec_summary_sub: "è®¾è®¡ç³»ç»Ÿçš„æ•´ä½“è¯„åˆ†ä¸å…³é”®ä¿¡å·ã€‚",
        sec_dimensions: "ç»´åº¦å¾—åˆ†",
        sec_dimensions_sub: "å…­ä¸ªåŠ æƒç»´åº¦å…±åŒæ„æˆæ€»ä½“è¯„åˆ†ã€‚",
        sec_issues: "å…³é”®é—®é¢˜",
        sec_issues_sub: "åˆ—å‡ºæ‰€æœ‰é—®é¢˜",
        sec_roadmap: "ä¼˜åŒ–è·¯çº¿å›¾",
        sec_roadmap_sub: "æ”¹å–„è®¾è®¡ç³»ç»Ÿå¥åº·çŠ¶å†µçš„ä¼˜å…ˆè¡ŒåŠ¨è®¡åˆ’ã€‚",
        sec_ai: "AI å°±ç»ªæ€§è¯„ä¼°",
        sec_ai_sub: "è®¾è®¡ç³»ç»Ÿå¯¹ AI é©±åŠ¨ä»£ç ç”Ÿæˆä¸è®¾è®¡å·¥å…·çš„æ”¯æŒç¨‹åº¦ã€‚",
        hero_heading: "è®¾è®¡ç³»ç»Ÿ",
        hero_audited: "å®¡è®¡æ—¶é—´",
        hero_figma: "Figma æ–‡ä»¶",
        score_overall: "ç»¼åˆå¾—åˆ†",
        score_ai: "AI å°±ç»ªæ€§",
        signal_semantic: "è¯­ä¹‰ä¸ç¨³å®š",
        signal_hardcode: "ç¡¬ç¼–ç æ‰£åˆ†",
        signal_prompt: "æç¤ºè¯ç¨³å®šæ€§",
        signal_detected: "å·²æ£€æµ‹åˆ°",
        signal_none: "æ— ",
        signal_applied: "å·²åº”ç”¨",
        signal_not_applied: "æœªåº”ç”¨",
        card_signals: "ä¿¡å·æ¦‚è§ˆ",
        card_penalties: "æ‰£åˆ†é¡¹",
        card_notes: "å®¡è®¡å¤‡æ³¨",
        penalty_total: "æœ€ç»ˆå¾—åˆ†",
        risk_prefix: "é£é™©ç­‰çº§ï¼š",
        footer_generated: "ç”±ä»¥ä¸‹å·¥å…·ç”Ÿæˆ",
        dark_mode_req: "æš—è‰²æ¨¡å¼å¿…é¡»",
        dark_mode_opt: "æš—è‰²æ¨¡å¼å¯é€‰",
        mode_label: "æ¨¡å¼",
      }
    };

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       â‘¢ STATE
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    let currentLang = 'en';
    let currentTheme = 'dark';

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       â‘£ TOGGLES
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    function toggleTheme() {
      currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', currentTheme);
      const isDark = currentTheme === 'dark';
      document.getElementById('theme-icon').textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
      document.getElementById('theme-label').setAttribute('data-i18n', isDark ? 'ctrl_light' : 'ctrl_dark');
      applyI18n();
    }

    function toggleLang() {
      currentLang = currentLang === 'en' ? 'zh' : 'en';
      document.documentElement.setAttribute('lang', currentLang === 'zh' ? 'zh-CN' : 'en');
      document.getElementById('lang-label').textContent = currentLang === 'en' ? 'ä¸­æ–‡' : 'EN';
      applyI18n();
      renderAll();  // re-render data with new language
    }

    function t(key) { return I18N[currentLang][key] || I18N['en'][key] || key; }

    function applyI18n() {
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        el.textContent = t(key);
      });
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       â‘¤ HELPERS
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    function scoreColor(s) {
      if (s >= 80) return '#22c55e';
      if (s >= 65) return '#f59e0b';
      return '#ef4444';
    }
    function riskClass(r) {
      return r === 'High' ? 'badge-high' : r === 'Medium' ? 'badge-medium' : 'badge-low';
    }
    function priorityClass(p) {
      return p === 'High' ? 'priority-high' : p === 'Medium' ? 'priority-medium' : 'priority-low';
    }
    function zh(val, valZh) { return currentLang === 'zh' && valZh ? valZh : val; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       â‘¥ RENDERERS
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    function renderHero() {
      const m = AUDIT_DATA.metadata;
      const ts = new Date(m.audit_timestamp);
      const locale = currentLang === 'zh' ? 'zh-CN' : 'en-US';
      const dateStr = ts.toLocaleDateString(locale, { year: 'numeric', month: 'long', day: 'numeric' });

      document.getElementById('hero-meta').textContent =
        `${t('hero_audited')} ${dateStr} Â· ${m.auditor}`;
      document.getElementById('hero-title').textContent = m.project_name;
      document.getElementById('hero-desc').textContent =
        `${t('hero_figma')}: ${m.file_id} Â· WCAG ${m.wcag_target} Â· ${m.token_schema_version}`;
      document.getElementById('footer-timestamp').textContent = ts.toISOString().split('T')[0];

      const chips = [
        { label: `WCAG ${m.wcag_target}`, color: '#3b82f6' },
        { label: m.token_schema_version, color: '#8b5cf6' },
        { label: m.theme_modes_checked.join(' + ') + ` ${t('mode_label')}`, color: '#06b6d4' },
        {
          label: m.dark_mode_required ? t('dark_mode_req') : t('dark_mode_opt'),
          color: m.dark_mode_required ? '#22c55e' : '#71717a'
        }
      ];
      document.getElementById('hero-chips').innerHTML = chips.map(c =>
        `<span class="chip"><span class="chip-dot" style="background:${c.color}"></span>${c.label}</span>`
      ).join('');

      const riskMap = { High: 'é«˜é£é™©', Medium: 'ä¸­ç­‰é£é™©', Low: 'ä½é£é™©' };
      const riskLabel = currentLang === 'zh'
        ? `${t('risk_prefix')}${riskMap[AUDIT_DATA.summary.risk_level] || AUDIT_DATA.summary.risk_level}`
        : `${t('risk_prefix')} ${AUDIT_DATA.summary.risk_level}`;
      document.getElementById('risk-badge').innerHTML =
        `<span class="badge ${riskClass(AUDIT_DATA.summary.risk_level)}">${riskLabel}</span>`;

      // Hero heading
      document.querySelector('h1 [data-i18n="hero_heading"]').textContent = t('hero_heading');
    }

    function renderSummary() {
      const s = AUDIT_DATA.summary;
      const circumference = 2 * Math.PI * 44;

      const cards = [
        { label: t('score_overall'), value: s.overall_score, featured: true, radial: true },
        { label: t('score_ai'), value: s.ai_readiness_score, radial: true },
        ...AUDIT_DATA.dimensions.map(d => ({
          label: zh(d.label, d.label_zh),
          value: d.score,
          weight: d.weight,
          radial: false
        }))
      ];

      document.getElementById('score-grid').innerHTML = cards.map(c => `
    <div class="score-card ${c.featured ? 'featured' : ''}">
      <div class="score-label">${c.label}${c.weight ? ` <span style="color:var(--border-subtle)">Â· ${c.weight}</span>` : ''}</div>
      ${c.radial ? `
        <div class="radial-wrap">
          <svg class="radial-svg" width="110" height="110" viewBox="0 0 110 110">
            <circle class="radial-track" cx="55" cy="55" r="44"/>
            <circle class="radial-fill" cx="55" cy="55" r="44"
              stroke="${scoreColor(c.value)}"
              stroke-dasharray="${circumference}"
              stroke-dashoffset="${circumference - (c.value / 100) * circumference}"
            />
            <text class="radial-label" x="55" y="55" font-size="22"
              style="transform:rotate(90deg);transform-origin:55px 55px">${c.value}</text>
          </svg>
        </div>
      ` : `
        <div class="score-value" style="color:${scoreColor(c.value)}">${c.value}<span class="score-max">/100</span></div>
        <div class="score-bar-wrap">
          <div class="score-bar-track">
            <div class="score-bar-fill" style="width:${c.value}%;background:${scoreColor(c.value)}"></div>
          </div>
        </div>
      `}
    </div>
  `).join('');

      document.getElementById('summary-text').textContent = zh(s.text, s.text_zh);
    }

    function renderDimensions() {
      document.getElementById('dim-grid').innerHTML = AUDIT_DATA.dimensions.map(d => `
    <div class="dim-card animate">
      <div class="dim-header">
        <span class="dim-name">${zh(d.label, d.label_zh)}</span>
        <span class="dim-score-badge" style="color:${scoreColor(d.score)}">${d.score}/100</span>
      </div>
      <div class="dim-body">
        <div class="dim-bar-track">
          <div class="dim-bar-fill" style="width:${d.score}%;background:${scoreColor(d.score)}"></div>
        </div>
        <div class="dim-metrics">
          ${d.metrics.map(m => `
            <div class="dim-metric">
              <span>${zh(m.label, m.label_zh)}</span>
              <span class="dim-metric-val">${m.value}</span>
            </div>
          `).join('')}
        </div>
      </div>
    </div>
  `).join('');
    }

    function renderIssues() {
      const sevColor = { High: '#ef4444', Medium: '#f59e0b', Low: '#22c55e' };
      const sevLabel = {
        en: { High: 'High', Medium: 'Medium', Low: 'Low' },
        zh: { High: 'é«˜', Medium: 'ä¸­', Low: 'ä½' }
      };
      document.getElementById('issues-list').innerHTML = AUDIT_DATA.critical_issues.map(i => `
    <div class="issue-card">
      <div class="issue-severity-bar" style="background:${sevColor[i.severity] || '#71717a'}"></div>
      <div>
        <div class="issue-area">${zh(i.area, i.area_zh)}</div>
        <div class="issue-title">${zh(i.issue, i.issue_zh)}</div>
        <div class="issue-impact">${zh(i.impact, i.impact_zh)}</div>
      </div>
      <span class="badge ${riskClass(i.severity)}">${sevLabel[currentLang][i.severity] || i.severity}</span>
    </div>
  `).join('');
    }

    function renderRoadmap() {
      const priLabel = {
        en: { High: 'High', Medium: 'Medium', Low: 'Low' },
        zh: { High: 'é«˜ä¼˜', Medium: 'ä¸­ä¼˜', Low: 'ä½ä¼˜' }
      };
      document.getElementById('roadmap-list').innerHTML = AUDIT_DATA.roadmap.map(r => `
    <div class="roadmap-item">
      <span class="roadmap-priority ${priorityClass(r.priority)}">${priLabel[currentLang][r.priority] || r.priority}</span>
      <div class="roadmap-content">
        <div class="roadmap-area">${zh(r.area, r.area_zh)}</div>
        <div class="roadmap-action">${zh(r.action, r.action_zh)}</div>
        <div class="roadmap-impact">â†‘ ${zh(r.expected_impact, r.expected_impact_zh)}</div>
      </div>
    </div>
  `).join('');
    }

    function renderAI() {
      const ai = AUDIT_DATA.ai_readiness;
      const circumference = 2 * Math.PI * 44;
      document.getElementById('ai-grid').innerHTML = `
    <div class="ai-card" style="display:flex;align-items:center;gap:24px;">
      <div class="radial-wrap">
        <svg class="radial-svg" width="110" height="110" viewBox="0 0 110 110">
          <circle class="radial-track" cx="55" cy="55" r="44"/>
          <circle class="radial-fill" cx="55" cy="55" r="44"
            stroke="${scoreColor(ai.score)}"
            stroke-dasharray="${circumference}"
            stroke-dashoffset="${circumference - (ai.score / 100) * circumference}"
          />
          <text class="radial-label" x="55" y="55" font-size="22"
            style="transform:rotate(90deg);transform-origin:55px 55px">${ai.score}</text>
        </svg>
        <div style="font-size:11px;color:var(--text-subtle);text-align:center;margin-top:4px">
          ${t('score_ai')}<br/>${t('sec_ai').split(' ')[0]}
        </div>
      </div>
      <div style="flex:1">
        <div class="ai-card-title">${t('card_signals')}</div>
        <div style="display:flex;flex-direction:column;gap:8px;">
          <div class="dim-metric">
            <span>${t('signal_semantic')}</span>
            <span class="dim-metric-val" style="color:${ai.semantic_instability_detected ? '#f87171' : '#4ade80'}">
              ${ai.semantic_instability_detected ? t('signal_detected') : t('signal_none')}
            </span>
          </div>
          <div class="dim-metric">
            <span>${t('signal_hardcode')}</span>
            <span class="dim-metric-val">${ai.hard_code_penalty_applied ? t('signal_applied') : t('signal_not_applied')}</span>
          </div>
          <div class="dim-metric">
            <span>${t('signal_prompt')}</span>
            <span class="dim-metric-val">${ai.prompt_generation_stability_estimate}%</span>
          </div>
        </div>
      </div>
    </div>
    <div class="ai-card">
      <div class="ai-card-title">${t('card_penalties')}</div>
      <div class="ai-penalties">
        ${ai.penalties.map(p => `
          <div class="ai-penalty">
            <span>${zh(p.condition, p.condition_zh)}</span>
            <span class="ai-penalty-val">${p.deduction} pts</span>
          </div>
        `).join('')}
        <div class="ai-penalty" style="margin-top:4px;padding-top:10px;border-top:1px solid var(--primary)">
          <span style="font-weight:600;color:var(--text)">${t('penalty_total')}</span>
          <span class="ai-penalty-val" style="color:${scoreColor(ai.score)};font-size:16px">${ai.score}</span>
        </div>
      </div>
    </div>
    <div class="ai-card" style="grid-column:1/-1;">
      <div class="ai-card-title">${t('card_notes')}</div>
      <p style="color:var(--text-muted);font-size:13px;line-height:1.8;">${zh(ai.notes, ai.notes_zh)}</p>
    </div>
  `;
    }

    /* â”€â”€ render all sections + i18n â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    function renderAll() {
      renderHero();
      renderSummary();
      renderDimensions();
      renderIssues();
      renderRoadmap();
      renderAI();
      applyI18n();
    }

    document.addEventListener('DOMContentLoaded', renderAll);
  </script>
</body>

</html>